/**
 * Popup Maker v1.0
 */
(function(d){d.isFunction(d.fn.on)||(d.fn.on=function(a,e,c){return this.delegate(e,a,c)},d.fn.off=function(a,e,c){return this.undelegate(e,a,c)});d.fn.popmake=function(a){if(d.fn.popmake.methods[a])return d.fn.popmake.methods[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return d.fn.popmake.methods.init.apply(this,arguments);d.error("Method "+a+" does not exist on jQuery.fn.popmake")};d.fn.popmake.last_open_trigger=null;d.fn.popmake.last_close_trigger=null;d.fn.popmake.methods= {init:function(a){return this.each(function(){var e=d(this),c=d.extend(!0,{},d.fn.popmake.defaults,e.data("popmake"),a);e.parent().is("body")||e.appendTo("body");d("#"+c.overlay.attr.id).length||d("<div>").attr(c.overlay.attr).appendTo("body");d(window).on("resize",function(){e.hasClass("active")&&d.fn.popmake.utilities.throttle(setTimeout(function(){e.popmake("reposition")},25),500,!1)});"string"===typeof popmake_powered_by&&""!==popmake_powered_by&&d(".popmake-content",e).append(d(popmake_powered_by)); e.data("popmake",c).on("popmakeBeforeOpen.hide_popup",function(){d(this).css({visibility:"visible"}).hide().addClass(c.container.active_class);c.meta.display.stackable||e.popmake("close_all")}).on("popmakeAfterClose.close_overlay",function(){var a=d("#"+c.overlay.attr.id);a.length&&a.is(":visible")&&a.fadeOut(c.close.close_speed)}).on("popmakeAfterClose.reset_videos",function(){d("iframe",e).filter('[src*="youtube"],[src*="vimeo"]').each(function(){var a=d(this).attr("src");d(this).attr("src","").attr("src", a)})}).on("popmakeBeforeOpen.setup_close",function(){e.popmake("setup_close")}).on("popmakeBeforeOpen.retheme",function(){e.popmake("retheme")}).on("popmakeBeforeOpen.reposition",function(){e.popmake("reposition")}).trigger("popmakeInit");return this})},setup_close:function(){var a=d(this),e=a.data("popmake"),c=d("#"+e.overlay.attr.id),b=d("."+e.close.attr["class"],a);b.off("click.popmake").on("click.popmake",function(b){b.preventDefault();b.stopPropagation();d.fn.popmake.last_close_trigger="Close Button"; a.popmake("close")});if(e.meta.close.esc_press||e.meta.close.f4_press)d(window).off("keyup.popmake").on("keyup.popmake",function(b){27===b.keyCode&&e.meta.close.esc_press&&(d.fn.popmake.last_close_trigger="ESC Key",a.popmake("close"));115===b.keyCode&&e.meta.close.f4_press&&(d.fn.popmake.last_close_trigger="F4 Key",a.popmake("close"))});if(e.meta.close.overlay_click)c.off("click.popmake").on("click.popmake",function(b){b.preventDefault();b.stopPropagation();d.fn.popmake.last_close_trigger="Overlay Click"; a.popmake("close")});a.on("popmakeAfterClose",function(){d(window).off("keyup.popmake");c.off("click.popmake");b.off("click.popmake")}).trigger("popmakeSetupClose")},open:function(a){var e=d(this),c=e.data("popmake");e.trigger("popmakeBeforeOpen").popmake("animate",c.meta.display.animation_type,function(){e.trigger("popmakeAfterOpen");void 0!==a&&a()});return this},close:function(){return this.each(function(){var a=d(this),e=a.data("popmake");a.trigger("popmakeBeforeClose").removeClass("active").fadeOut(e.close.close_speed, function(){a.trigger("popmakeAfterClose")});return this})},close_all:function(){var a=d(this).data("popmake");d("."+a.container.attr["class"]).removeClass("active").hide(0);return this},reposition:function(a){d(this).trigger("popmakeBeforeReposition");var e=d(this),c=e.data("popmake"),b=c.meta.display,g=b.location,f={my:"",at:""},h=!1;0<=g.indexOf("left")&&(f={my:f.my+" left"+(0!==b.position_left?"+"+b.position_left:""),at:f.at+" left"});0<=g.indexOf("right")&&(f={my:f.my+" right"+(0!==b.position_right? "-"+b.position_right:""),at:f.at+" right"});0<=g.indexOf("center")&&(f="center"===g?{my:"center",at:"center"}:{my:f.my+" center",at:f.at+" center"});0<=g.indexOf("top")&&(f={my:f.my+" top"+(0!==b.position_top?"+"+b.position_top:""),at:f.at+" top"});0<=g.indexOf("bottom")&&(f={my:f.my+" bottom"+(0!==b.position_bottom?"-"+b.position_bottom:""),at:f.at+" bottom"});f.my=d.trim(f.my);f.at=d.trim(f.at);f.of=window;f.collision="fit";f.using="function"===typeof a?a:d.fn.popmake.callbacks.reposition_using; e.is(":hidden")&&(h=e.css("opacity"),e.css({opacity:0}).show());b.position_fixed?e.addClass("fixed"):e.removeClass("fixed");"custom"===c.meta.display.size?e.css({width:c.meta.display.custom_width+c.meta.display.custom_width_unit,height:c.meta.display.custom_height_auto?"auto":c.meta.display.custom_height+c.meta.display.custom_height_unit}):"auto"!==c.meta.display.size&&(""!==c.meta.display.responsive_min_width&&e.css({maxWidth:c.meta.display.responsive_min_width+c.meta.display.responsive_min_width_unit}), ""!==c.meta.display.responsive_max_width&&e.css({maxWidth:c.meta.display.responsive_max_width+c.meta.display.responsive_max_width_unit}));e.addClass("custom-position").position(f).trigger("popmakeAfterReposition");h&&e.css({opacity:h}).hide();return this},retheme:function(a){d(this).trigger("popmakeBeforeRetheme");var e=d(this),c=e.data("popmake"),b=d("#"+c.overlay.attr.id),g=d("> ."+c.title.attr["class"],e),f=d("> ."+c.content.attr["class"],e),h=d("> ."+c.close.attr["class"],e),k;void 0===a&&(a= d.fn.popmake.themes[c.theme_id],void 0===a&&(a=d.fn.popmake.themes[1]));c="yes"===a.container.boxshadow_inset?"inset ":"";k="yes"===a.close.boxshadow_inset?"inset ":"";b.removeAttr("style").css({backgroundColor:d.fn.popmake.utilities.convert_hex(a.overlay.background_color,a.overlay.background_opacity)});e.css({padding:a.container.padding+"px",backgroundColor:d.fn.popmake.utilities.convert_hex(a.container.background_color,a.container.background_opacity),borderStyle:a.container.border_style,borderColor:a.container.border_color, borderWidth:a.container.border_width+"px",borderRadius:a.container.border_radius+"px",boxShadow:c+a.container.boxshadow_horizontal+"px "+a.container.boxshadow_vertical+"px "+a.container.boxshadow_blur+"px "+a.container.boxshadow_spread+"px "+d.fn.popmake.utilities.convert_hex(a.container.boxshadow_color,a.container.boxshadow_opacity)});g.css({color:a.title.font_color,fontSize:a.title.font_size+"px",fontFamily:a.title.font_family,fontWeight:a.title.font_weight,fontStyle:a.title.font_style,textAlign:a.title.text_align, textShadow:a.title.textshadow_horizontal+"px "+a.title.textshadow_vertical+"px "+a.title.textshadow_blur+"px "+d.fn.popmake.utilities.convert_hex(a.title.textshadow_color,a.title.textshadow_opacity)});f.css({color:a.content.font_color,fontFamily:a.content.font_family,fontWeight:a.content.font_weight,fontStyle:a.content.font_style});d("p, label",f).css({color:a.content.font_color,fontFamily:a.content.font_family});h.html(a.close.text).css({padding:a.close.padding+"px",backgroundColor:d.fn.popmake.utilities.convert_hex(a.close.background_color, a.close.background_opacity),color:a.close.font_color,fontSize:a.close.font_size+"px",fontWeight:a.close.font_weight,fontStyle:a.close.font_style,fontFamily:a.close.font_family,borderStyle:a.close.border_style,borderColor:a.close.border_color,borderWidth:a.close.border_width+"px",borderRadius:a.close.border_radius+"px",boxShadow:k+a.close.boxshadow_horizontal+"px "+a.close.boxshadow_vertical+"px "+a.close.boxshadow_blur+"px "+a.close.boxshadow_spread+"px "+d.fn.popmake.utilities.convert_hex(a.close.boxshadow_color, a.close.boxshadow_opacity),textShadow:a.close.textshadow_horizontal+"px "+a.close.textshadow_vertical+"px "+a.close.textshadow_blur+"px "+d.fn.popmake.utilities.convert_hex(a.close.textshadow_color,a.close.textshadow_opacity)});switch(a.close.location){case "topleft":h.css({top:a.close.position_top+"px",left:a.close.position_left+"px"});break;case "topright":h.css({top:a.close.position_top+"px",right:a.close.position_right+"px"});break;case "bottomleft":h.css({bottom:a.close.position_bottom+"px", left:a.close.position_left+"px"});break;case "bottomright":h.css({bottom:a.close.position_bottom+"px",right:a.close.position_right+"px"})}e.trigger("popmakeAfterRetheme",[a]);return this},animate_overlay:function(a,e,c){if(d(this).data("popmake").meta.display.overlay_disabled)c();else{if(d.fn.popmake.overlay_animations[a])return d.fn.popmake.overlay_animations[a].apply(this,Array.prototype.slice.call(arguments,1));d.error("Animation style "+d.fn.popmake.overlay_animations+" does not exist.")}return this}, animate:function(a,e){if(d.fn.popmake.animations[a])return d.fn.popmake.animations[a].apply(this,Array.prototype.slice.call(arguments,1));d.error("Animation style "+d.fn.popmake.animations+" does not exist.");return this},animation_origin:function(a){var e=d(this),c={my:"",at:""};switch(a){case "top":c={my:"left+"+e.offset().left+" bottom-100",at:"left top"};break;case "bottom":c={my:"left+"+e.offset().left+" top+100",at:"left bottom"};break;case "left":c={my:"right top+"+e.offset().top,at:"left top"}; break;case "right":c={my:"left top+"+e.offset().top,at:"right top"};break;default:0<=a.indexOf("left")&&(c={my:c.my+" right",at:c.at+" left"}),0<=a.indexOf("right")&&(c={my:c.my+" left",at:c.at+" right"}),0<=a.indexOf("center")&&(c={my:c.my+" center",at:c.at+" center"}),0<=a.indexOf("top")&&(c={my:c.my+" bottom-100",at:c.at+" top"}),0<=a.indexOf("bottom")&&(c={my:c.my+" top+100",at:c.at+" bottom"}),c.my=d.trim(c.my),c.at=d.trim(c.at)}c.of=window;c.collision="none";return c}};d.fn.popmake.callbacks= {reposition_using:function(a){d(this).css(a)}};d.fn.popmake.utilities={convert_hex:function(a,e){a=a.replace("#","");var c=parseInt(a.substring(0,2),16),b=parseInt(a.substring(2,4),16),d=parseInt(a.substring(4,6),16);return"rgba("+c+","+b+","+d+","+e/100+")"},debounce:function(a,e){var c;return function(){var b=this,d=arguments;window.clearTimeout(c);c=window.setTimeout(function(){a.apply(b,d)},e)}},throttle:function(a,d){var c=!1,b=function(){c=!1};return function(){c||(a.apply(this,arguments),window.setTimeout(b, d),c=!0)}},getXPath:function(a){var e=[],c,b,g,f,h;d.each(d(a).parents(),function(a,l){c=d(l);b=c.attr("id")||"";g=c.attr("class")||"";f=c.get(0).tagName.toLowerCase();h=c.parent().children(f).index(c);if("body"===f)return!1;0<g.length&&(g=g.split(" "),g=g[0]);e.push(f+(0<b.length?"#"+b:0<g.length?"."+g.split(" ").join("."):":eq("+h+")"))});return e.reverse().join(" > ")},strtotime:function(a,d){function c(a){var b=a.split(" ");a=b[0];var c=b[1].substring(0,3),d=/\d+/.test(a),e=("last"===a?-1:1)* ("ago"===b[2]?-1:1);d&&(e*=parseInt(a,10));if(k.hasOwnProperty(c)&&!b[1].match(/^mon(day|\.)?$/i))return f["set"+k[c]](f["get"+k[c]]()+e);if("wee"===c)return f.setDate(f.getDate()+7*e);if("next"===a||"last"===a)b=e,c=h[c],void 0!==c&&(c-=f.getDay(),0===c?c=7*b:0<c&&"last"===a?c-=7:0>c&&"next"===a&&(c+=7),f.setDate(f.getDate()+c));else if(!d)return!1;return!0}var b,g,f,h,k,l;if(!a)return!1;a=a.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();if((b=a.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/))&& b[2]===b[4])if(1901<b[1])switch(b[2]){case "-":return 12<b[3]||31<b[5]?!1:new Date(b[1],parseInt(b[3],10)-1,b[5],b[6]||0,b[7]||0,b[8]||0,b[9]||0)/1E3;case ".":return!1;case "/":return 12<b[3]||31<b[5]?!1:new Date(b[1],parseInt(b[3],10)-1,b[5],b[6]||0,b[7]||0,b[8]||0,b[9]||0)/1E3}else if(1901<b[5])switch(b[2]){case "-":return 12<b[3]||31<b[1]?!1:new Date(b[5],parseInt(b[3],10)-1,b[1],b[6]||0,b[7]||0,b[8]||0,b[9]||0)/1E3;case ".":return 12<b[3]||31<b[1]?!1:new Date(b[5],parseInt(b[3],10)-1,b[1],b[6]|| 0,b[7]||0,b[8]||0,b[9]||0)/1E3;case "/":return 12<b[1]||31<b[3]?!1:new Date(b[5],parseInt(b[1],10)-1,b[3],b[6]||0,b[7]||0,b[8]||0,b[9]||0)/1E3}else switch(b[2]){case "-":if(12<b[3]||31<b[5]||70>b[1]&&38<b[1])return!1;g=0<=b[1]&&38>=b[1]?+b[1]+2E3:b[1];return new Date(g,parseInt(b[3],10)-1,b[5],b[6]||0,b[7]||0,b[8]||0,b[9]||0)/1E3;case ".":if(70<=b[5])return 12<b[3]||31<b[1]?!1:new Date(b[5],parseInt(b[3],10)-1,b[1],b[6]||0,b[7]||0,b[8]||0,b[9]||0)/1E3;if(60>b[5]&&!b[6]){if(23<b[1]||59<b[3])return!1; g=new Date;return new Date(g.getFullYear(),g.getMonth(),g.getDate(),b[1]||0,b[3]||0,b[5]||0,b[9]||0)/1E3}return!1;case "/":if(12<b[1]||31<b[3]||70>b[5]&&38<b[5])return!1;g=0<=b[5]&&38>=b[5]?+b[5]+2E3:b[5];return new Date(g,parseInt(b[1],10)-1,b[3],b[6]||0,b[7]||0,b[8]||0,b[9]||0)/1E3;case ":":if(23<b[1]||59<b[3]||59<b[5])return!1;g=new Date;return new Date(g.getFullYear(),g.getMonth(),g.getDate(),b[1]||0,b[3]||0,b[5]||0)/1E3}if("now"===a)return null===d||isNaN(d)?(new Date).getTime()/1E3||0:d||0; b=Date.parse(a);if(!isNaN(b))return b/1E3||0;f=d?new Date(1E3*d):new Date;h={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};k={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"};b=a.match(RegExp("([+-]?\\d+\\s(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)|(last|next)\\s(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?))(\\sago)?", "gi"));if(!b)return!1;l=0;for(g=b.length;l<g;l+=1)if(!c(b[l]))return!1;return f.getTime()/1E3}};d.fn.popmake.utilies=d.fn.popmake.utilities;d.fn.popmake.defaults={theme_id:popmake_default_theme,meta:{display:{stackable:0,overlay_disabled:0,size:"medium",responsive_max_width:"",responsive_max_width_unit:"%",responsive_min_width:"",responsive_min_width_unit:"%",custom_width:"",custom_width_unit:"%",custom_height:"",custom_height_unit:"em",custom_height_auto:0,location:"center top",position_top:100, position_left:0,position_bottom:0,position_right:0,position_fixed:0,animation_type:"fade",animation_speed:350,animation_origin:"center top"},close:{overlay_click:0,esc_press:0,f4_press:0}},container:{active_class:"active",attr:{"class":"popmake"}},title:{attr:{"class":"popmake-title"}},content:{attr:{"class":"popmake-content"}},close:{close_speed:0,attr:{"class":"popmake-close"}},overlay:{attr:{id:"popmake-overlay","class":"popmake-overlay"}}};d.fn.popmake.themes=popmake_themes;d.fn.popmake.overlay_animations= {none:function(a,e){var c=d(this).data("popmake");d("#"+c.overlay.attr.id).show(a,e)},fade:function(a,e){var c=d(this).data("popmake");d("#"+c.overlay.attr.id).fadeIn(a,e)},slide:function(a,e){var c=d(this).data("popmake");d("#"+c.overlay.attr.id).slideDown(a,e)}};d.fn.popmake.animations={none:function(a){var e=d(this);e.popmake("animate_overlay","none",0,function(){e.css({display:"block"});void 0!==a&&a()});return this},slide:function(a){var e=d(this).show(0).css({opacity:0}),c=e.data("popmake"), b=c.meta.display.animation_speed/2E3,c=e.popmake("animation_origin",c.meta.display.animation_origin);d("html").css("overflow-x","hidden");e.position(c).css({opacity:1}).popmake("animate_overlay","fade",1E3*b,function(){e.popmake("reposition",function(c){TweenLite.to(e,b,d.extend(c,{onComplete:function(){d("html").css("overflow-x","inherit");void 0!==a&&a()}}))})});return this},fade:function(a){var e=d(this).show(0).css({opacity:0}),c=e.data("popmake").meta.display.animation_speed/2E3;e.popmake("animate_overlay", "fade",1E3*c,function(){TweenLite.to(e,c,{opacity:1,onComplete:function(){void 0!==a&&a()}})});return this},fadeAndSlide:function(a){var e=d(this).show(0).css({opacity:0}),c=e.data("popmake"),b=c.meta.display.animation_speed/2E3,c=e.popmake("animation_origin",c.meta.display.animation_origin);d("html").css("overflow-x","hidden");e.position(c).popmake("animate_overlay","fade",1E3*b,function(){e.popmake("reposition",function(c){TweenLite.to(e,b,d.extend(c,{opacity:1,onComplete:function(){d("html").css("overflow-x", "inherit");void 0!==a&&a()}}))})});return this},grow:function(a){var e=d(this).show(0).css({opacity:0}),c=e.data("popmake"),b=c.meta.display.animation_speed/2E3,c=c.meta.display.animation_origin;if("top"===c||"bottom"===c)c="center "+c;if("left"===c||"right"===c)c+=" center";TweenLite.to(e,0,{transformOrigin:c,scale:0,opacity:1});e.popmake("animate_overlay","fade",1E3*b,function(){e.popmake("reposition",function(c){TweenLite.to(e,b,{scale:1,onComplete:function(){void 0!==a&&a()}})})});return this}, growAndSlide:function(a){var e=d(this).show(0).css({opacity:0}),c=e.data("popmake"),b=c.meta.display.animation_speed/2E3,c=e.popmake("animation_origin",c.meta.display.animation_origin);d("html").css("overflow-x","hidden");e.position(c);TweenLite.to(e,0,{scale:0,opacity:1,transformOrigin:"0 0"});e.popmake("animate_overlay","fade",1E3*b,function(){e.popmake("reposition",function(c){TweenLite.to(e,b,d.extend(c,{scale:1,transformOrigin:"50% 50%",onComplete:function(){d("html").css("overflow-x","inherit"); void 0!==a&&a()}}))})});return this}};d(".popmake").css({visibility:"visible"}).hide();d(document).ready(function(){d(".popmake").popmake().each(function(){var a=d(this),e=a.data("popmake"),e=".popmake-"+e.id+", .popmake-"+e.slug;d(e).css({cursor:"pointer"});d(document).on("click",e,function(c){c.preventDefault();c.stopPropagation();d.fn.popmake.last_open_trigger=d.fn.popmake.utilities.getXPath(this);a.popmake("open")})})})})(jQuery);